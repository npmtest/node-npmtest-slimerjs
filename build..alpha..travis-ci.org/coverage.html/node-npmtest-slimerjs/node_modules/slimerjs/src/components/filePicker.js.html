<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-slimerjs/node_modules/slimerjs/src/components/filePicker.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-slimerjs">npmtest-slimerjs (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-slimerjs/node_modules/slimerjs/src/components/filePicker.js</span></h1>
    <h2>
        
        Statements: <span class="metric">2.53% <small>(2 / 79)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 33)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 18)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">2.53% <small>(2 / 79)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-slimerjs/node_modules/slimerjs/src/components/</a> &#187; filePicker.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"> 
const Cc = Components.classes;
<span class="cstat-no" title="statement not covered" >const Ci = Components.interfaces;</span>
<span class="cstat-no" title="statement not covered" >const Cr = Components.results;</span>
<span class="cstat-no" title="statement not covered" >const Cu = Components.utils;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >Cu.import("resource://gre/modules/XPCOMUtils.jsm");</span>
<span class="cstat-no" title="statement not covered" >Cu.import("resource://gre/modules/Services.jsm");</span>
<span class="cstat-no" title="statement not covered" >Cu.import("resource://slimerjs/slUtils.jsm");</span>
&nbsp;
/**
 * implements a file picker that replaces the default filepicker
 * of mozilla. This file picker does not show a dialog
 * and gives file setted by webpage.onFilePicker or webpage.uploadFile
 */
<span class="fstat-no" title="function not covered" >function filePicker() {</span>
<span class="cstat-no" title="statement not covered" >    this.fileName = null;</span>
<span class="cstat-no" title="statement not covered" >    this._nsfile = null;</span>
<span class="cstat-no" title="statement not covered" >    this._nsfiles = [];</span>
<span class="cstat-no" title="statement not covered" >    this.browser = null;</span>
<span class="cstat-no" title="statement not covered" >    this.supportsMultiple = false;</span>
<span class="cstat-no" title="statement not covered" >    this.domWindowUtils = null;</span>
}
&nbsp;
<span class="cstat-no" title="statement not covered" >filePicker.prototype = {</span>
    classID          : Components.ID("{4d447d76-5205-4685-9237-9a35c7349adf}"),
    classDescription: "file picker for SlimerJS",
    QueryInterface   : XPCOMUtils.generateQI([Ci.nsIFilePicker]),
&nbsp;
    _filterFiles : <span class="fstat-no" title="function not covered" >function(list) {</span>
<span class="cstat-no" title="statement not covered" >        let finalList = []</span>
<span class="cstat-no" title="statement not covered" >        list.forEach(<span class="fstat-no" title="function not covered" >function(file){</span></span>
<span class="cstat-no" title="statement not covered" >            try {</span>
<span class="cstat-no" title="statement not covered" >                let selectedFile = Cc['@mozilla.org/file/local;1']</span>
                                .createInstance(Ci.nsILocalFile);
<span class="cstat-no" title="statement not covered" >                selectedFile.initWithPath(file);</span>
<span class="cstat-no" title="statement not covered" >                if (selectedFile.exists()) {</span>
<span class="cstat-no" title="statement not covered" >                    finalList.push(selectedFile);</span>
                }
            }
            catch(e) {
            }
        });
<span class="cstat-no" title="statement not covered" >        return finalList;</span>
    },
&nbsp;
    // ------------------------------------- nsIFilePicker interface
&nbsp;
    /**
     * Initialize the file picker widget.  The file picker is not valid until this
     * method is called.
     *
     * @param   nsIDOMWindow   parent   nsIDOMWindow parent.  This dialog will be dependent
     *                                   on this parent. parent must be non-null.
     * @param   string   title    The title for the file widget
     * @param   int   mode     load, save, or get folder (nsIFilePicker.mod*)
     *
     */
    init : <span class="fstat-no" title="function not covered" >function (parent, title, mode) {</span>
        // retrieve the webpage object corresponding to the parent
<span class="cstat-no" title="statement not covered" >        this.browser = slUtils.getBrowserFromContentWindow(parent);</span>
<span class="cstat-no" title="statement not covered" >        this.domWindowUtils = parent.QueryInterface(Ci.nsIInterfaceRequestor)</span>
                                    .getInterface(Ci.nsIDOMWindowUtils);
<span class="cstat-no" title="statement not covered" >        this._mode = mode;</span>
        // take account of mode if multi files
<span class="cstat-no" title="statement not covered" >        if (mode &amp; Ci.nsIFilePicker.modeOpenMultiple) {</span>
<span class="cstat-no" title="statement not covered" >            this.supportsMultiple = true;</span>
        }
        else {
<span class="cstat-no" title="statement not covered" >            this.supportsMultiple = false;</span>
        }
    },
&nbsp;
    _mode : 0,
&nbsp;
    /**
     * The picker's mode, as set by the 'mode' argument passed to init()
     * (one of the modeOpen et. al. constants specified above).
     */
    get mode<span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >        return this._mode;</span>
    },
&nbsp;
    /**
     * Append to the  filter list with things from the predefined list
     *
     * @param   long   filterMask  mask of filters i.e. (filterAll | filterHTML)
     *
     */
    appendFilters : <span class="fstat-no" title="function not covered" >function (filterMask) {</span>
        // nothing: let's ignore
    },
&nbsp;
    /**
     * Add a filter
     *
     * @param   string   title    name of the filter
     * @param   string   filter   extensions to filter -- semicolon and space separated
     *
     */
    appendFilter : <span class="fstat-no" title="function not covered" >function (title, filter) {</span>
        // nothing: let's ignore
    },
&nbsp;
    /**
     * The filename that should be suggested to the user as a default. This should
     * include the extension.
     *
     * @throws NS_ERROR_FAILURE on attempts to get
     */
    defaultString : '',
&nbsp;
    /**
     * The extension that should be associated with files of the type we
     * want to work with.  On some platforms, this extension will be
     * automatically appended to filenames the user enters, if needed.  
     */
    defaultExtension : '.*',
&nbsp;
    /**
     * The filter which is currently selected in the File Picker dialog
     *
     * @return long Returns the index (0 based) of the selected filter in the filter list. 
     */
    filterIndex : 0,
&nbsp;
    /**
     * Set the directory that the file open/save dialog initially displays
     *
     * @param   nsIFile   displayDirectory  the name of the directory
     *
     */
    displayDirectory : null,
&nbsp;
    /**
     * Get the nsIFile for the file or directory.
     *
     * @return nsIFile Returns the file currently selected
     * @readonly
     */
    get file <span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >        return this._nsfile;</span>
    },
&nbsp;
    /**
     * Get the nsIURI for the file or directory.
     *
     * @return nsIURI Returns the file currently selected
     * @readonly
     */
    get fileURL <span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >        if (this._nsfile)</span>
<span class="cstat-no" title="statement not covered" >            return Services.io.newFileURI(this._nsfile);</span>
<span class="cstat-no" title="statement not covered" >        return null;</span>
    },
&nbsp;
    /**
     * Get the enumerator for the selected files
     * only works in the modeOpenMultiple mode
     *
     * @return nsISimpleEnumerator Returns the files currently selected
     * @readonly
     */
    get files <span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >        return slUtils.createSimpleEnumerator(this._nsfiles);</span>
    },
&nbsp;
    /**
     * Get the nsIDOMFile for the file.
     *
     * @return nsIDOMFile Returns the file currently selected as DOMFile
     * @readonly
     */
    get domfile <span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >        if (this._nsfile)</span>
<span class="cstat-no" title="statement not covered" >            return this.domWindowUtils.wrapDOMFile(this._nsfile);</span>
<span class="cstat-no" title="statement not covered" >        return null;</span>
    },
&nbsp;
    /**
     * Get the enumerator for the selected files
     * only works in the modeOpenMultiple mode
     *
     * @return nsISimpleEnumerator Returns the files currently selected as DOMFiles
     * @readonly
     */
    get domfiles <span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >        let me = this;</span>
<span class="cstat-no" title="statement not covered" >        let list = this._nsfiles.map(<span class="fstat-no" title="function not covered" >function(file){</span></span>
<span class="cstat-no" title="statement not covered" >            return me.domWindowUtils.wrapDOMFile(file);</span>
        });
<span class="cstat-no" title="statement not covered" >        return slUtils.createSimpleEnumerator(list);</span>
    },
&nbsp;
    get domFileOrDirectory <span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >        if (this._nsfile)</span>
<span class="cstat-no" title="statement not covered" >            return this.domWindowUtils.wrapDOMFile(this._nsfile);</span>
<span class="cstat-no" title="statement not covered" >        return null;</span>
    },
&nbsp;
    get domFileOrDirectoryEnumerator <span class="fstat-no" title="function not covered" >() {</span>
<span class="cstat-no" title="statement not covered" >        let me = this;</span>
<span class="cstat-no" title="statement not covered" >        let list = this._nsfiles.map(<span class="fstat-no" title="function not covered" >function(file){</span></span>
<span class="cstat-no" title="statement not covered" >            return me.domWindowUtils.wrapDOMFile(file);</span>
        });
<span class="cstat-no" title="statement not covered" >        return slUtils.createSimpleEnumerator(list);</span>
    },
&nbsp;
    /**
     * Controls whether the chosen file(s) should be added to the system's recent
     * documents list. This attribute will be ignored if the system has no "Recent
     * Docs" concept, or if the application is in private browsing mode (in which
     * case the file will not be added). Defaults to true.
     */
    addToRecentDocs: false,
&nbsp;
    /**
     * Show File Dialog. The dialog is displayed modally.
     *
     * @return short returnOK if the user selects OK, returnCancel if the user selects cancel
     *
     */
    show : <span class="fstat-no" title="function not covered" >function () {</span>
<span class="cstat-no" title="statement not covered" >        if (!this.browser || !this.browser.webpage) {</span>
<span class="cstat-no" title="statement not covered" >            return Ci.nsIFilePicker.returnCancel;</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        let oldFile = '';</span>
<span class="cstat-no" title="statement not covered" >        if (this.defaultString != '' &amp;&amp; this.displayDirectory) {</span>
<span class="cstat-no" title="statement not covered" >            let f = this.displayDirectory.clone();</span>
<span class="cstat-no" title="statement not covered" >            f.append(this.defaultString);</span>
<span class="cstat-no" title="statement not covered" >            oldFile = f.path;</span>
        }
&nbsp;
        // call the onFilePicker callback on the corresponding webpage
<span class="cstat-no" title="statement not covered" >        let selectedFileName = '';</span>
<span class="cstat-no" title="statement not covered" >        let selectedFiles = [];</span>
<span class="cstat-no" title="statement not covered" >        if (this.browser.webpage.onFilePicker) {</span>
            // the callback receives the old selected file
            // and should returns the new file.
<span class="cstat-no" title="statement not covered" >            selectedFileName = this.browser.webpage.onFilePicker(oldFile);</span>
<span class="cstat-no" title="statement not covered" >            if (selectedFileName) {</span>
<span class="cstat-no" title="statement not covered" >                if (!Array.isArray(selectedFileName))</span>
<span class="cstat-no" title="statement not covered" >                    selectedFiles = this._filterFiles([selectedFileName]);</span>
                else
<span class="cstat-no" title="statement not covered" >                    selectedFiles = this._filterFiles(selectedFileName);</span>
            }
        }
&nbsp;
        // if no file is given, take the file set by webpage.uploadFile()
<span class="cstat-no" title="statement not covered" >        if (!selectedFiles.length</span>
            &amp;&amp; 'uploadFiles' in this.browser
            &amp;&amp; this.browser.uploadFiles.length != 0) {
<span class="cstat-no" title="statement not covered" >            selectedFiles = this.browser.uploadFiles;</span>
        }
<span class="cstat-no" title="statement not covered" >        this._nsfiles = selectedFiles;</span>
<span class="cstat-no" title="statement not covered" >        if (selectedFiles.length) {</span>
<span class="cstat-no" title="statement not covered" >            this._nsfile = selectedFiles[0];</span>
<span class="cstat-no" title="statement not covered" >            if (!this.supportsMultiple) {</span>
<span class="cstat-no" title="statement not covered" >                this._nsfiles = [selectedFiles[0]];</span>
            }
<span class="cstat-no" title="statement not covered" >            this.browser.uploadFilesReaded = true;</span>
<span class="cstat-no" title="statement not covered" >            return Ci.nsIFilePicker.returnOK;</span>
        }
        else {
<span class="cstat-no" title="statement not covered" >            this._nsfile = null;</span>
<span class="cstat-no" title="statement not covered" >            this.browser.uploadFilesReaded = true;</span>
<span class="cstat-no" title="statement not covered" >            return Ci.nsIFilePicker.returnCancel;</span>
        }
    },
&nbsp;
    /**
     * Opens the file dialog asynchrounously.
     * The passed in object's done method will be called upon completion.
     * @param nsIFilePickerShownCallback aFilePickerShownCallback
     */
    open : <span class="fstat-no" title="function not covered" >function (aFilePickerShownCallback) {</span>
<span class="cstat-no" title="statement not covered" >        let res = this.show();</span>
<span class="cstat-no" title="statement not covered" >        aFilePickerShownCallback.done(res);</span>
    }
}
&nbsp;
<span class="cstat-no" title="statement not covered" >this.NSGetFactory = XPCOMUtils.generateNSGetFactory([filePicker]);</span>
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Sat Apr 22 2017 07:59:07 GMT+0000 (UTC)</div>
</div>
</body>
</html>
